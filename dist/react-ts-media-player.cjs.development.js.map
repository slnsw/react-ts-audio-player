{"version":3,"file":"react-ts-media-player.cjs.development.js","sources":["../src/Util/CollapseArrayProperty.ts","../src/SrOnly.tsx","../src/Util/CssClasses.ts","../src/ActionButton.tsx","../src/Util/Numbers.ts","../src/ScrubBar.tsx","../src/SubtitleContainer.tsx","../src/Menu.tsx","../src/MenuItem.tsx","../src/SubtitleMenu.tsx","../src/ToggleButton.tsx","../src/TracklistMenu.tsx","../src/TimeUtils.ts","../src/AudioPlayer.tsx"],"sourcesContent":["const collapseArrayProperty = (prop: string|string[] = [], delimiter: string = ' ') => {\n  if (!Array.isArray(prop)) {\n    prop = [prop];\n  }\n  return prop.join(delimiter);\n};\n\nexport default collapseArrayProperty;\n","// @file\n// Screenreader only wrapper.\n\nimport React from 'react';\n\nimport CollapseArrayProperty from './Util/CollapseArrayProperty';\n\nimport { IAudioPlayerConfig } from './Types';\n\ninterface IProps {\n  children?: React.ReactNode;\n  config?: IAudioPlayerConfig;\n}\n\nconst SrOnly: React.FunctionComponent<IProps> = ({ config = {}, children }) => {\n  const classNames = [].concat(CollapseArrayProperty(config.classNames['sr-only']));\n  return <span className={classNames.join(' ')}>{children}</span>;\n};\n\nexport default SrOnly;\n","// @file\n// Generate BEM-scoped CSS classes.\n\nconst CssClasses = (\n  defaultClassName: string,\n  optionalClassName: string = '',\n  suffix: string = '',\n  states: any[] = [],\n): string => {\n  const classes = []\n    .concat(defaultClassName.split(/\\s+/))\n    .concat(optionalClassName.split(/\\s+/))\n    .filter((c) => c && c.length)\n    .map((c) => (suffix.length ? `${c}__${suffix}` : c));\n\n  return classes\n    .reduce(\n      (agg, className) =>\n        agg.concat(\n          ['']\n            .concat(states.filter((s) => s && s.length))\n            .map((state) => `${className}${state.length ? `--${state}` : ''}`),\n        ),\n      [],\n    )\n    .join(' ');\n};\n\nexport default CssClasses;\n","// @file\n// Functional component for an action button.\n\nimport React from 'react';\n\nimport SrOnly from './SrOnly';\nimport CollapseArrayProperty from './Util/CollapseArrayProperty';\nimport CssClasses from './Util/CssClasses';\n\nimport { IAudioPlayerConfig } from './Types';\n\ninterface IProps {\n  btnType: string;\n  enabled?: boolean;\n  hidden?: boolean;\n  onClick?: (e: React.MouseEvent) => void;\n  children?: React.ReactNode;\n  className?: string;\n  config?: IAudioPlayerConfig;\n}\n\nconst ActionButton: React.FunctionComponent<IProps> = ({\n  enabled = true,\n  hidden = false,\n  btnType,\n  onClick,\n  children,\n  className,\n  config = {},\n}) => {\n  const defaultClassName = CollapseArrayProperty(config.classNames[btnType]);\n  const iconClassNames = CollapseArrayProperty(config.icons[btnType]);\n  const iconElem = config.iconElements[btnType] || null;\n  return (\n    <button\n      className={CssClasses(defaultClassName, className || '')}\n      disabled={!enabled}\n      hidden={hidden}\n      onClick={onClick}\n    >\n      <SrOnly config={config}>{children}</SrOnly>\n      {!iconElem && <span className={CssClasses(iconClassNames, '')}></span>}\n      {iconElem}\n    </button>\n  );\n};\n\nexport default ActionButton;\n","export const clampNumber = (num: number, min: number, max: number): number =>\n  Math.max(min, Math.min(max, num));\n","// @file\n// Functional component for an action button.\n\nimport React from 'react';\nimport debounce from 'debounce';\n\nimport CssClasses from './Util/CssClasses';\nimport { clampNumber } from './Util/Numbers';\n\n/**\n * Note: defaultValue is between 0 and 100.\n */\ninterface IProps {\n  defaultValue: number;\n  className?: string;\n  id?: string;\n  label?: string;\n  onClick?: (pos: number) => void;\n  useTooltip?: boolean;\n  useRange?: boolean;\n  useProgress?: boolean;\n  valueToTooltipString?: (pos: number) => string;\n}\n\nconst getOffsetXNative = (\n  e: MouseEvent | TouchEvent,\n  container: HTMLDivElement,\n) => {\n  let offsetX = 0;\n  const rect = container.getBoundingClientRect();\n  if (e.type === 'mousemove') {\n    offsetX = (e as MouseEvent).pageX - rect.left;\n  }\n  if (e.type === 'touchmove') {\n    offsetX = (e as TouchEvent).targetTouches[0].pageX - rect.left;\n  }\n  return offsetX;\n};\n\nconst getOffsetX = (e: React.TouchEvent | React.MouseEvent) => {\n  if (typeof (e as React.MouseEvent).nativeEvent.offsetX === 'number') {\n    return (e as React.MouseEvent).nativeEvent.offsetX;\n  }\n  if (typeof (e as React.TouchEvent).targetTouches === 'object') {\n    const touchE = e as React.TouchEvent;\n    const rect = (touchE.target as HTMLDivElement).getBoundingClientRect();\n    return touchE.targetTouches[0].pageX - rect.left;\n  }\n  return 0;\n};\n\nconst ON_CLICK_DEBOUNCE = 250;\n\ninterface ITooltipProps {\n  title?: string;\n  className?: string;\n  style?: any;\n}\n\nconst ScrubBarTooltip: React.FunctionComponent<ITooltipProps> = ({\n  title,\n  className,\n  style = {},\n}) => {\n  return (\n    <div style={style} className={className || ''}>\n      {title}\n    </div>\n  );\n};\n\ninterface ITooltipOuterProps {\n  wrapperClassName?: string;\n  tooltipClassName?: string;\n  valueToTooltipString?: (pos: number) => string;\n  defaultValue?: number;\n  show?: boolean;\n}\n\nconst ScrubBarTooltipOuter: React.FunctionComponent<ITooltipOuterProps> = ({\n  wrapperClassName,\n  tooltipClassName,\n  valueToTooltipString = () => '',\n  defaultValue = 0,\n  show = false,\n}) => {\n  const outer = React.useRef(null);\n  const [value, setValue] = React.useState(defaultValue);\n\n  const outerWidth = outer.current ? outer.current.clientWidth : 0;\n\n  const content = valueToTooltipString(value) || '';\n\n  return (\n    <div\n      ref={outer}\n      onMouseMove={(e: React.MouseEvent) => {\n        setValue(getOffsetX(e) / outerWidth);\n      }}\n      className={wrapperClassName}\n    >\n      {show && content.length > 0 && (\n        <ScrubBarTooltip\n          title={valueToTooltipString(value)}\n          className={tooltipClassName}\n          style={{\n            left: `${outerWidth * value}px`,\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nconst ScrubBar: React.FunctionComponent<IProps> = ({\n  defaultValue = 0,\n  useTooltip = false,\n  useRange = false,\n  useProgress = false,\n  valueToTooltipString = () => '',\n  id,\n  className,\n  label,\n  onClick,\n}: IProps) => {\n  const outer = React.useRef(null);\n  const scrubbing = React.useRef(false);\n\n  const [hover, setHover] = React.useState(false);\n  const [value, setValue] = React.useState(clampNumber(defaultValue, 0, 1));\n  const [offsetX, setOffsetX] = React.useState(0);\n  const [lastUpdate, setLastUpdate] = React.useState(0);\n\n  const derivedId = id || 'scrub-bar';\n\n  const debouncedOnClick =\n    typeof onClick === 'function'\n      ? debounce(onClick, ON_CLICK_DEBOUNCE)\n      : () => {};\n\n  const onDown = (e: React.TouchEvent | React.MouseEvent) => {\n    scrubbing.current = true;\n    setOffsetX(getOffsetX(e));\n  };\n\n  const onUp = () => {\n    if (scrubbing.current) {\n      scrubbing.current = false;\n      setLastUpdate(new Date().getTime());\n    }\n  };\n\n  const onMouseMove = (e: MouseEvent) => {\n    if (scrubbing.current) {\n      setOffsetX(getOffsetXNative(e, outer.current));\n    }\n  };\n\n  const onTouchMove = (e: TouchEvent) => {\n    if (scrubbing.current) {\n      setOffsetX(getOffsetXNative(e, outer.current));\n    }\n  };\n\n  // Set up cursor move and cursor up events on the entire document\n  // so that the scrub can persist even when the user drags outside\n  // the scrub bar.\n  React.useEffect(() => {\n    document.addEventListener('mousemove', onMouseMove, false);\n    document.addEventListener('touchmove', onTouchMove, false);\n    document.addEventListener('mouseup', onUp, false);\n    document.addEventListener('touchend', onUp, false);\n    return () => {\n      document.removeEventListener('mousemove', onMouseMove, false);\n      document.removeEventListener('touchmove', onTouchMove, false);\n      document.removeEventListener('mouseup', onUp, false);\n      document.removeEventListener('touchend', onUp, false);\n    };\n  }, []);\n\n  // Prop update -- set value, don't propagate.\n  React.useEffect(() => {\n    setValue(clampNumber(defaultValue, 0, 100));\n  }, [defaultValue]);\n\n  // State update -- set value, propagate back to parent.\n  React.useEffect(() => {\n    if (scrubbing.current) {\n      const pos = clampNumber(offsetX / outer.current.clientWidth, 0, 1);\n      setValue(pos * 100);\n      debouncedOnClick(pos);\n    }\n  }, [lastUpdate, offsetX]);\n\n  return (\n    <div\n      className={CssClasses(className || '', '', '', [\n        scrubbing.current ? 'scrubbing' : '',\n      ])}\n      onMouseOver={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n      onMouseDown={useRange ? () => {} : onDown}\n      onTouchStart={useRange ? () => {} : onDown}\n      ref={outer}\n    >\n      {useTooltip && (\n        <ScrubBarTooltipOuter\n          wrapperClassName={`${className}__wraptooltip`}\n          tooltipClassName={`${className}__tooltip`}\n          show={hover || scrubbing.current}\n          valueToTooltipString={valueToTooltipString}\n          defaultValue={value}\n        />\n      )}\n      {(useProgress || useRange) && (\n        <label\n          htmlFor={\n            useRange ? `${derivedId}__scrubrange` : `${derivedId}__progress`\n          }\n        >\n          <span className=\"sr-only\">\n            {label || ''}\n            {`${value} percent`}\n          </span>\n          {useProgress && (\n            <progress\n              max=\"100\"\n              value={value}\n              className={`${className}__progress`}\n              id={`${derivedId}__progress`}\n            />\n          )}\n          {useRange && (\n            <input\n              className={`${className}__scrubrange`}\n              id={`${derivedId}__scrubrange`}\n              type=\"range\"\n              min=\"0\"\n              max=\"100\"\n              value={value}\n              onMouseDown={onDown}\n              onTouchStart={onDown}\n              onChange={(e) => {\n                setOffsetX(\n                  (parseFloat(e.currentTarget.value) / 100.0) *\n                    outer.current.clientWidth,\n                );\n              }}\n            />\n          )}\n        </label>\n      )}\n      {!useRange && (\n        <div\n          className={[`${className}__fill`].join(' ')}\n          style={{ width: `${value}%` }}\n        >\n          <span className=\"sr-only\">\n            {label || ''}\n            {`${value} percent`}\n          </span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ScrubBar;\n","// @file\n// Oral Histories subtitle menu.\n\nimport React from 'react';\n\nconst memoiseTrack = (track: TextTrack): string => {\n  if (!track) {\n    return '';\n  }\n  const { kind, mode, language, cues } = track;\n  return [kind, mode, language, cues.length].join(',');\n};\n\ninterface IProps {\n  visible?: boolean;\n  lang?: string;\n  tracks: TextTrack[];\n  id: string;\n  className?: string;\n}\n\nconst SubtitleContainer: React.FunctionComponent<IProps> = ({\n  visible = true,\n  lang,\n  tracks = [],\n  id,\n  className,\n}: IProps) => {\n  const [text, setText] = React.useState('');\n  const [currentTrack, setCurrentTrack] = React.useState(null);\n\n  const cueChange = (e: Event) => {\n    const { activeCues } = e.target as TextTrack;\n\n    let newText = '';\n    let cue;\n\n    let i;\n    for (i = 0; i < activeCues.length; i += 1) {\n      cue = activeCues[i];\n      if (typeof (cue as any).text !== 'undefined') {\n        newText += (cue as any).text;\n      }\n    }\n    setText(newText);\n  };\n\n  React.useEffect(() => {\n    if (currentTrack) {\n      currentTrack.addEventListener('cuechange', cueChange, false);\n    }\n    return () => {\n      if (currentTrack) {\n        currentTrack.removeEventListener('cuechange', cueChange, false);\n      }\n    };\n  }, [memoiseTrack(currentTrack)]);\n\n  React.useEffect(() => {\n    if (lang && lang.length && tracks && tracks.length) {\n      let track = null;\n      let i;\n      for (i = 0; i < tracks.length; i += 1) {\n        if (tracks[i].language === lang) {\n          track = tracks[i];\n          break;\n        }\n      }\n      setCurrentTrack(track);\n    }\n  }, [lang, tracks]);\n\n  return (\n    <div\n      className={[className || '', 'video-wrapper__subtitle-container'].join(\n        ' ',\n      )}\n      hidden={!visible}\n      aria-hidden={!visible}\n      lang={lang}\n      id={id}\n      aria-atomic=\"true\"\n      aria-live=\"polite\"\n      aria-relevant=\"additions text\"\n    >\n      {visible ? text : ' '}\n    </div>\n  );\n};\n\nexport default SubtitleContainer;\n","// @file\r\n// Menu container.\r\n\r\nimport React from 'react';\r\n\r\ninterface IProps {\r\n  id?: string;\r\n  visible?: boolean;\r\n  className?: string;\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst Menu: React.FunctionComponent<IProps> = ({\r\n  id,\r\n  visible = false,\r\n  className,\r\n  children,\r\n}: IProps) => {\r\n  return (\r\n    <ol\r\n      className={['video-wrapper__popup-menu', className || ''].join(' ')}\r\n      id={id}\r\n      hidden={!visible}\r\n      aria-expanded={visible}\r\n    >\r\n      {children}\r\n    </ol>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React from 'react';\n\ninterface IProps {\n  label: string;\n  value: string | number | null;\n  selected: boolean;\n  onSelect: (e: React.KeyboardEvent | React.MouseEvent) => void;\n}\n\nconst MenuItem: React.FunctionComponent<IProps> = ({\n  label,\n  value,\n  selected = false,\n  onSelect,\n}: IProps) => {\n  return (\n    <li>\n      <button\n        data-value={value}\n        data-state={selected ? 'active' : 'inactive'}\n        onClick={onSelect}\n        onKeyUp={(e) => {\n          if (e.key === 'Enter') {\n            onSelect(e);\n          }\n        }}\n      >\n        {label}\n      </button>\n    </li>\n  );\n};\n\nexport default MenuItem;\n","// @file\n// Oral Histories subtitle menu.\n\nimport React from 'react';\n\nimport Menu from './Menu';\nimport MenuItem from './MenuItem';\n\ninterface IProps {\n  visible: boolean;\n  id: string;\n  tracks: TextTrackList;\n  selected?: string;\n  onSelect: (selectedLang: string) => void;\n  className?: string;\n}\n\nconst SubtitleMenu: React.FunctionComponent<IProps> = ({\n  visible = false,\n  id,\n  tracks,\n  selected,\n  onSelect,\n  className,\n}: IProps) => {\n  const onSelectLang = (e: React.MouseEvent | React.KeyboardEvent) => {\n    const itemElem = e.target as HTMLElement;\n    const selectedLang = itemElem.getAttribute('data-value') || null;\n    if (typeof onSelect === 'function') {\n      onSelect(selectedLang);\n    }\n  };\n\n  const languageOptions = [\n    <MenuItem\n      key={'_none_'}\n      label={'Off'}\n      value={null}\n      selected={!selected}\n      onSelect={onSelectLang}\n    />,\n  ];\n  let track;\n  let i;\n  if (tracks && tracks.length) {\n    for (i = 0; i < tracks.length; i += 1) {\n      track = tracks[i];\n      languageOptions.push(\n        <MenuItem\n          key={`${track.language}-${i}`}\n          label={track.label}\n          value={track.language}\n          selected={selected && track.language === selected}\n          onSelect={onSelectLang}\n        />,\n      );\n    }\n  }\n\n  return (\n    <Menu\n      className={[className || '', 'subtitles-menu'].join(' ')}\n      id={id}\n      visible={visible}\n    >\n      {languageOptions}\n    </Menu>\n  );\n};\n\nexport default SubtitleMenu;\n","// @file\n// Functional component for a toggle button.\n\nimport React from 'react';\n\nimport SrOnly from './SrOnly';\nimport CollapseArrayProperty from './Util/CollapseArrayProperty';\nimport CssClasses from './Util/CssClasses';\n\nimport { IAudioPlayerConfig } from './Types';\n\ninterface IProps {\n  enabled?: boolean;\n  hidden?: boolean;\n  btnType: string;\n  toggleState?: boolean;\n  children?: React.ReactNode;\n  onClick?: (e: React.MouseEvent) => void;\n  className?: string;\n  config?: IAudioPlayerConfig;\n}\n\nconst ToggleButton: React.FunctionComponent<IProps> = ({\n  enabled = true,\n  hidden = false,\n  btnType,\n  toggleState = false,\n  children,\n  onClick,\n  className,\n  config = {},\n}: IProps) => {\n  const defaultClassName = CollapseArrayProperty(config.classNames[btnType]);\n  const iconClassNamesFalse = CollapseArrayProperty(config.icons[`${btnType}__false`]);\n  const iconClassNamesTrue = CollapseArrayProperty(config.icons[`${btnType}__true`]);\n  const iconElemFalse = config.iconElements[`${btnType}__false`] || null;\n  const iconElemTrue = config.iconElements[`${btnType}__true`] || null;\n  return (\n    <button\n      className={CssClasses(defaultClassName, className || '')}\n      disabled={!enabled}\n      hidden={hidden}\n      onClick={onClick}\n    >\n      <SrOnly config={config}>{children}</SrOnly>\n      {!toggleState && !iconElemFalse && (\n        <span className={CssClasses(iconClassNamesFalse)} />\n      )}\n      {!toggleState && iconElemFalse}\n      {toggleState && !iconElemTrue && (\n        <span className={CssClasses(iconClassNamesTrue)} />\n      )}\n      {toggleState && iconElemTrue}\n    </button>\n  );\n};\n\nexport default ToggleButton;\n","// @file\r\n// Oral Histories subtitle menu.\r\n\r\nimport React from 'react';\r\n\r\nimport Menu from './Menu';\r\nimport MenuItem from './MenuItem';\r\n\r\ninterface IProps {\r\n  tracklist?: any[];\r\n  selected?: number;\r\n  onSelect?: (track: number) => void;\r\n  id?: string;\r\n  visible?: boolean;\r\n  className?: string;\r\n}\r\n\r\nconst TracklistMenu: React.FunctionComponent<IProps> = ({\r\n  tracklist = [],\r\n  selected = 0,\r\n  visible = false,\r\n  onSelect,\r\n  id,\r\n  className,\r\n}: IProps) => {\r\n  const onSelectTrack = (e: React.MouseEvent | React.KeyboardEvent) => {\r\n    const itemElem = e.target as HTMLElement;\r\n    const indexAttr = itemElem.getAttribute('data-value') || null;\r\n    if (indexAttr === null) {\r\n      return;\r\n    }\r\n    const index = parseInt(indexAttr, 10);\r\n    if (typeof onSelect === 'function') {\r\n      onSelect(index);\r\n    }\r\n  };\r\n\r\n  const trackOptions = tracklist.map((track: any, index: number) => {\r\n    return (\r\n      <MenuItem\r\n        key={index}\r\n        label={track.label}\r\n        value={index}\r\n        selected={index === selected}\r\n        onSelect={onSelectTrack}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <Menu\r\n      className={[className || '', 'track-menu'].join(' ')}\r\n      id={id}\r\n      visible={visible}\r\n    >\r\n      {trackOptions}\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default TracklistMenu;\r\n","// @file\n// Time utilities.\n\nconst strPadLeft = (n: number): string => {\n  if (n < 10) {\n    return `0${n}`;\n  }\n  return n.toString();\n};\n\nexport const toHHMMSS = (str: string): string => {\n  const secNum = parseInt(str, 10);\n  if (isNaN(secNum)) {\n    return '';\n  }\n  const hours = Math.floor(secNum / 3600);\n  const minutes = Math.floor((secNum - hours * 3600) / 60);\n  const seconds = secNum - hours * 3600 - minutes * 60;\n\n  return `${strPadLeft(hours)}:${strPadLeft(minutes)}:${strPadLeft(seconds)}`;\n};\n\nexport const toMMSS = (str: string): string => {\n  const secNum = parseInt(str, 10);\n  if (isNaN(secNum)) {\n    return '';\n  }\n  const minutes = Math.floor(secNum / 60);\n  const seconds = secNum - minutes * 60;\n\n  return `${strPadLeft(minutes)}:${strPadLeft(seconds)}`;\n};\n","// @file\n// Audio player base component.\n\nimport Emitter from 'eventemitter3';\nimport React from 'react';\n\nimport ActionButton from './ActionButton';\nimport ScrubBar from './ScrubBar';\nimport SubtitleContainer from './SubtitleContainer';\nimport SubtitleMenu from './SubtitleMenu';\nimport ToggleButton from './ToggleButton';\nimport TracklistMenu from './TracklistMenu';\n\nimport FontAwesome5 from './Configs/FontAwesome5';\nimport CssClasses from './Util/CssClasses';\nimport { toHHMMSS, toMMSS } from './TimeUtils';\nimport { IAudioPlayerConfig } from './Types';\n\ninterface IPlaylistItem {\n  index: number;\n  label: string;\n  audioUrl: string;\n  transcriptUrl: string | null;\n}\n\ninterface IPlaybackEvent {\n  fileData?: any[];\n  selectedFile?: number;\n  currentTime?: number;\n  duration?: number;\n}\n\ninterface IProps {\n  playlist: IPlaylistItem[];\n  id?: string;\n  className?: string;\n  eventRouter?: Emitter;\n  crossOrigin?: 'anonymous' | 'use-credentials';\n  onEndNextFile?: boolean;\n  config?: IAudioPlayerConfig;\n  singleTrack?: boolean;\n  useRangeOnScrubBar?: boolean;\n  useProgressOnScrubBar?: boolean;\n  onLoad?: (e?: IPlaybackEvent) => void;\n  onPlay?: (e?: IPlaybackEvent) => void;\n  onPause?: (e?: IPlaybackEvent) => void;\n  onEnd?: (e?: IPlaybackEvent) => void;\n  onTimeUpdate?: (e?: IPlaybackEvent) => void;\n}\n\nconst AudioPlayer: React.FunctionComponent<IProps> = ({\n  playlist = [],\n  id = 'audio-player',\n  className,\n  eventRouter,\n  crossOrigin,\n  onEndNextFile = false,\n  config = {},\n  singleTrack = false,\n  useRangeOnScrubBar = false,\n  useProgressOnScrubBar = false,\n  onLoad,\n  onPlay,\n  onPause,\n  onEnd,\n  onTimeUpdate,\n}: IProps) => {\n  const audioElem = React.useRef(null);\n  const timeElapsedElem = React.useRef(null);\n  const durationElem = React.useRef(null);\n\n  const [duration, setDuration] = React.useState(0);\n  const [timestamp, setTimestamp] = React.useState(0);\n  const [fileData, setFileData] = React.useState([]);\n  const [selectedFile, setSelectedFile] = React.useState(0);\n  const [progress, setProgress] = React.useState(0);\n  const [playing, setPlaying] = React.useState(false);\n  const [ended, setEnded] = React.useState(false);\n  const [muted, setMuted] = React.useState(false);\n  const [selectedLanguage, setSelectedLanguage] = React.useState(null);\n  const [showTrackListMenu, setShowTrackListMenu] = React.useState(false);\n  const [showSubtitleMenu, setShowSubtitleMenu] = React.useState(false);\n  const [videoMetadataLoaded, setVideoMetadataLoaded] = React.useState(false);\n\n  const captionsContainerId = `${id}__captions`;\n  const timeIndicatorId = `${id}__time-indicator`;\n  const durationIndicatorId = `${id}__duration-indicator`;\n  const tracklistId = `${id}__track-list`;\n  const subtitleMenuId = `${id}__subtitle-menu`;\n\n  const getTimestampString = (\n    seconds: number = 0,\n    isDuration: boolean = false,\n  ): string => {\n    if (typeof seconds !== 'number') {\n      return '';\n    }\n    if (\n      config.useHoursInTimestamps &&\n      ((isDuration && seconds >= 3600) || duration >= 3600)\n    ) {\n      return toHHMMSS(seconds.toString());\n    }\n    return toMMSS(seconds.toString());\n  };\n\n  React.useEffect(() => {\n    audioElem.current.setAttribute('playsinline', 'playsinline');\n  }, []);\n\n  React.useEffect(() => {\n    setFileData(playlist);\n    setSelectedFile(0);\n  }, [playlist]);\n\n  const canPlayPrev = selectedFile > 0;\n  const canPlayNext = selectedFile < fileData.length - 1;\n\n  React.useEffect(() => {\n    audioElem.current.load();\n    audioElem.current.currentTime = 0;\n    setProgress(0);\n  }, [selectedFile]);\n\n  const selectTrack = (trackNumber: number) => {\n    setPlaying(false);\n    setEnded(false);\n    setVideoMetadataLoaded(false);\n    setSelectedFile(trackNumber);\n    if (typeof onLoad === 'function') {\n      onLoad({ fileData, selectedFile: trackNumber, duration });\n    }\n  };\n\n  const hasVtt = (file: IPlaylistItem) => {\n    return file.transcriptUrl && file.transcriptUrl.length > 0;\n  };\n\n  const subtitleTracks = () => {\n    if (!videoMetadataLoaded) {\n      return [];\n    }\n    return audioElem.current.textTracks;\n  };\n\n  const playable = fileData && fileData.length && videoMetadataLoaded;\n\n  const selectSubtitleLanguage = (lang?: string) => {\n    setShowSubtitleMenu(false);\n    setSelectedLanguage(lang && lang.length ? lang : null);\n  };\n\n  const onLoadedMetadata = () => {\n    setVideoMetadataLoaded(true);\n    selectSubtitleLanguage(selectedLanguage);\n    setDuration(audioElem.current.duration);\n\n    // this.highlighter.selectedFile = this.state.selectedFile;\n    // this.highlighter.updateVideoElement(this.videoElement);\n    // this.highlighter.onVideoElementLoad();\n  };\n\n  const internalOnTimeUpdate = () => {\n    const currentTime = audioElem.current.currentTime;\n    if (duration > 0) {\n      const value = (100 / duration) * currentTime;\n      setProgress(value);\n      setTimestamp(currentTime);\n    }\n    if (typeof onTimeUpdate === 'function') {\n      onTimeUpdate({ fileData, selectedFile, currentTime, duration });\n    }\n  };\n\n  const playPauseAction = () => {\n    if (!playable) {\n      return;\n    }\n    let newPlaying = false;\n    if (audioElem.current.paused) {\n      audioElem.current.play();\n      newPlaying = true;\n    } else {\n      audioElem.current.pause();\n    }\n    const currentTime = audioElem.current.currentTime;\n    setPlaying(newPlaying);\n    setTimestamp(currentTime);\n    if (eventRouter) {\n      eventRouter.emit('state.playing', newPlaying);\n    }\n    if (newPlaying) {\n      if (typeof onPlay === 'function') {\n        onPlay({ fileData, selectedFile, currentTime, duration });\n      }\n    } else {\n      if (typeof onPause === 'function') {\n        onPause({ fileData, selectedFile, currentTime, duration });\n      }\n    }\n  };\n\n  const nextTrackAction = () => {\n    if (canPlayNext) {\n      selectTrack(selectedFile + 1);\n    }\n  };\n\n  const nextTrackAndPlayAction = () => {\n    if (canPlayNext) {\n      nextTrackAction();\n      setTimeout(() => playPauseAction(), 500);\n    }\n  };\n\n  const onEnded = () => {\n    if (onEndNextFile) {\n      nextTrackAndPlayAction();\n      return;\n    }\n    setEnded(true);\n    const currentTime = audioElem.current.currentTime;\n    setTimestamp(currentTime);\n    if (eventRouter) {\n      eventRouter.emit('state.playing', false);\n      eventRouter.emit('state.ended', true);\n    }\n    if (typeof onEnd === 'function') {\n      onEnd({ fileData, selectedFile, currentTime, duration });\n    }\n  };\n\n  const moveBackwardAction = () => {\n    if (!playable) {\n      return;\n    }\n    audioElem.current.currentTime -= config.rewindTime || 5;\n  };\n\n  const moveForwardAction = () => {\n    if (!playable) {\n      return;\n    }\n    audioElem.current.currentTime += config.fastForwardTime || 5;\n  };\n\n  const rewindAction = () => {\n    audioElem.current.currentTime = 0;\n    setEnded(false);\n    setTimestamp(audioElem.current.currentTime);\n    setProgress(0);\n    if (eventRouter) {\n      eventRouter.emit('state.ended', false);\n    }\n  };\n\n  React.useEffect(() => {\n    let i;\n    for (i = 0; i < audioElem.current.textTracks.length; i += 1) {\n      audioElem.current.textTracks[i].mode =\n        audioElem.current.textTracks[i].language === selectedLanguage\n          ? 'showing'\n          : 'hidden';\n    }\n  }, [selectedLanguage]);\n\n  const toggleMuteAction = () => {\n    const newMute = !audioElem.current.muted;\n    audioElem.current.muted = newMute;\n    setMuted(newMute);\n  };\n\n  const handleRemoteAction = (action: string) => {\n    if (action === 'backward') {\n      moveBackwardAction();\n    } else if (action === 'play_pause') {\n      playPauseAction();\n    } else if (action === 'reset') {\n      rewindAction();\n    } else if (action === 'forward') {\n      moveForwardAction();\n    }\n  };\n\n  React.useEffect(() => {\n    if (eventRouter) {\n      eventRouter.on('remote.action', handleRemoteAction);\n    }\n    return () => {\n      if (eventRouter) {\n        eventRouter.off('remote.action', handleRemoteAction);\n      }\n    };\n  }, []);\n\n  const currentFile = fileData[selectedFile] || null;\n\n  return (\n    <div className={CssClasses('video-wrapper', className)}>\n      <audio\n        className={CssClasses('video-element', className)}\n        data-oh-audio-player=\"1\"\n        crossOrigin={crossOrigin}\n        preload=\"metadata\"\n        ref={audioElem}\n        onLoadedMetadata={onLoadedMetadata}\n        onEnded={onEnded}\n        onTimeUpdate={internalOnTimeUpdate}\n        aria-describedby={captionsContainerId}\n      >\n        {currentFile && <source src={currentFile.audioUrl} type=\"audio/mpeg\" />}\n        {currentFile && hasVtt(currentFile) && (\n          <track\n            src={currentFile.transcriptUrl}\n            kind=\"captions\"\n            label=\"English\"\n            srcLang=\"en\"\n          />\n        )}\n      </audio>\n\n      <div className={CssClasses('video-controls', className)}>\n        <ScrubBar\n          defaultValue={progress}\n          className={CssClasses('video-controls', className, 'progress-bar')}\n          onClick={(pos: number) => {\n            audioElem.current.currentTime = pos * duration;\n            setTimestamp(pos * duration);\n          }}\n          useTooltip={config.useTooltip || false}\n          useRange={useRangeOnScrubBar}\n          useProgress={useProgressOnScrubBar}\n          valueToTooltipString={(pos) =>\n            getTimestampString(\n              audioElem.current ? pos * audioElem.current.duration : 0,\n            )\n          }\n        />\n\n        <label className=\"sr-only\" htmlFor={timeIndicatorId}>\n          Time elapsed\n        </label>\n\n        <input\n          className={CssClasses('video-controls', className, 'time-elapsed')}\n          id={timeIndicatorId}\n          readOnly\n          ref={timeElapsedElem}\n          value={getTimestampString(timestamp)}\n        />\n\n        {config.showDuration && (\n          <>\n            <label className=\"sr-only\" htmlFor={durationIndicatorId}>\n              Duration\n            </label>\n\n            <input\n              className={CssClasses('video-controls', className, 'duration')}\n              id={durationIndicatorId}\n              readOnly\n              ref={durationElem}\n              value={getTimestampString(duration, true)}\n            />\n          </>\n        )}\n\n        <div className=\"w-100\" />\n\n        <div\n          className={CssClasses('video-controls', className, 'button-wrapper')}\n        >\n          <ToggleButton\n            btnType=\"tracklist\"\n            aria-controls={tracklistId}\n            enabled={fileData.length > 0 && !singleTrack}\n            onClick={() => {\n              setShowSubtitleMenu(false);\n              setShowTrackListMenu(!showTrackListMenu);\n            }}\n            toggleState={showTrackListMenu}\n            config={config}\n          >\n            Tracklist\n          </ToggleButton>\n\n          <div\n            className={CssClasses(\n              'video-controls',\n              className,\n              'button-wrapper__space',\n            )}\n          />\n\n          <ActionButton\n            btnType=\"previous-audio\"\n            enabled={fileData.length > 1 && canPlayPrev}\n            onClick={() => {\n              if (canPlayPrev) {\n                selectTrack(selectedFile - 1);\n              }\n            }}\n            config={config}\n          >\n            Previous track\n          </ActionButton>\n\n          <ActionButton\n            btnType=\"backward\"\n            onClick={moveBackwardAction}\n            config={config}\n          >\n            Rewind\n          </ActionButton>\n\n          <ToggleButton\n            btnType=\"play\"\n            hidden={ended}\n            onClick={playPauseAction}\n            toggleState={playing}\n            config={config}\n          >\n            {playing ? 'Pause' : 'Play'}\n          </ToggleButton>\n\n          <ActionButton\n            btnType=\"reset\"\n            enabled={ended}\n            hidden={!ended}\n            onClick={rewindAction}\n            config={config}\n          >\n            Restart\n          </ActionButton>\n\n          <ActionButton\n            btnType=\"forward\"\n            onClick={moveForwardAction}\n            config={config}\n          >\n            Fast forward\n          </ActionButton>\n\n          <ActionButton\n            btnType=\"next-audio\"\n            enabled={fileData.length > 1 && canPlayNext}\n            onClick={nextTrackAction}\n            config={config}\n          >\n            Next track\n          </ActionButton>\n\n          <ToggleButton\n            btnType=\"closed-captioning\"\n            aria-controls={subtitleMenuId}\n            enabled={videoMetadataLoaded && hasVtt(currentFile)}\n            onClick={() => {\n              setShowTrackListMenu(false);\n              setShowSubtitleMenu(!showSubtitleMenu);\n            }}\n            toggleState={showSubtitleMenu}\n            config={config}\n          >\n            Closed captioning\n          </ToggleButton>\n\n          <div\n            className={CssClasses(\n              'video-controls',\n              className,\n              'button-wrapper__space',\n            )}\n          />\n\n          <ToggleButton\n            btnType=\"mute\"\n            onClick={toggleMuteAction}\n            toggleState={muted}\n            config={config}\n          >\n            Mute\n          </ToggleButton>\n        </div>\n      </div>\n\n      <SubtitleMenu\n        visible={showSubtitleMenu}\n        id={subtitleMenuId}\n        tracks={subtitleTracks()}\n        selected={selectedLanguage}\n        onSelect={selectSubtitleLanguage}\n      />\n\n      <TracklistMenu\n        visible={!singleTrack && showTrackListMenu}\n        id={tracklistId}\n        tracklist={fileData}\n        selected={selectedFile}\n        onSelect={(trackNumber) => {\n          setShowTrackListMenu(false);\n          selectTrack(trackNumber);\n        }}\n      />\n\n      <SubtitleContainer\n        visible={selectedLanguage !== null}\n        lang={selectedLanguage}\n        tracks={subtitleTracks()}\n        id={captionsContainerId}\n      />\n    </div>\n  );\n};\n\nexport default AudioPlayer;\n\nexport const defaultConfigs = {\n  FontAwesome5,\n};\n"],"names":["collapseArrayProperty","prop","delimiter","Array","isArray","join","SrOnly","_ref","config","_ref$config","children","classNames","concat","CollapseArrayProperty","React","className","CssClasses","defaultClassName","optionalClassName","suffix","states","classes","split","filter","c","length","map","reduce","agg","s","state","ActionButton","enabled","_ref$enabled","_ref$hidden","hidden","btnType","onClick","iconClassNames","icons","iconElem","iconElements","disabled","clampNumber","num","min","max","Math","getOffsetXNative","e","container","offsetX","rect","getBoundingClientRect","type","pageX","left","targetTouches","getOffsetX","nativeEvent","touchE","target","ON_CLICK_DEBOUNCE","ScrubBarTooltip","title","_ref$style","style","ScrubBarTooltipOuter","_ref2","wrapperClassName","tooltipClassName","_ref2$valueToTooltipS","valueToTooltipString","_ref2$defaultValue","defaultValue","_ref2$show","show","outer","useRef","_React$useState","useState","value","setValue","outerWidth","current","clientWidth","content","ref","onMouseMove","ScrubBar","_ref3","_ref3$defaultValue","_ref3$useTooltip","useTooltip","_ref3$useRange","useRange","_ref3$useProgress","useProgress","_ref3$valueToTooltipS","id","label","scrubbing","_React$useState2","hover","setHover","_React$useState3","_React$useState4","setOffsetX","_React$useState5","lastUpdate","setLastUpdate","derivedId","debouncedOnClick","debounce","onDown","onUp","Date","getTime","onTouchMove","useEffect","document","addEventListener","removeEventListener","pos","onMouseOver","onMouseLeave","onMouseDown","onTouchStart","htmlFor","onChange","parseFloat","currentTarget","width","memoiseTrack","track","kind","mode","language","cues","SubtitleContainer","visible","_ref$visible","lang","_ref$tracks","tracks","text","setText","currentTrack","setCurrentTrack","cueChange","activeCues","newText","cue","i","Menu","MenuItem","_ref$selected","selected","onSelect","onKeyUp","key","SubtitleMenu","onSelectLang","itemElem","selectedLang","getAttribute","languageOptions","push","ToggleButton","_ref$toggleState","toggleState","iconClassNamesFalse","iconClassNamesTrue","iconElemFalse","iconElemTrue","TracklistMenu","tracklist","_ref$tracklist","onSelectTrack","indexAttr","index","parseInt","trackOptions","strPadLeft","n","toString","toHHMMSS","str","secNum","isNaN","hours","floor","minutes","seconds","toMMSS","AudioPlayer","playlist","_ref$playlist","_ref$id","eventRouter","crossOrigin","_ref$onEndNextFile","onEndNextFile","_ref$singleTrack","singleTrack","_ref$useRangeOnScrubB","useRangeOnScrubBar","_ref$useProgressOnScr","useProgressOnScrubBar","onLoad","onPlay","onPause","onEnd","onTimeUpdate","audioElem","timeElapsedElem","durationElem","duration","setDuration","timestamp","setTimestamp","fileData","setFileData","selectedFile","setSelectedFile","progress","setProgress","_React$useState6","playing","setPlaying","_React$useState7","ended","setEnded","_React$useState8","muted","setMuted","_React$useState9","selectedLanguage","setSelectedLanguage","_React$useState10","showTrackListMenu","setShowTrackListMenu","_React$useState11","showSubtitleMenu","setShowSubtitleMenu","_React$useState12","videoMetadataLoaded","setVideoMetadataLoaded","captionsContainerId","timeIndicatorId","durationIndicatorId","tracklistId","subtitleMenuId","getTimestampString","isDuration","useHoursInTimestamps","setAttribute","canPlayPrev","canPlayNext","load","currentTime","selectTrack","trackNumber","hasVtt","file","transcriptUrl","subtitleTracks","textTracks","playable","selectSubtitleLanguage","onLoadedMetadata","internalOnTimeUpdate","playPauseAction","newPlaying","paused","play","pause","emit","nextTrackAction","nextTrackAndPlayAction","setTimeout","onEnded","moveBackwardAction","rewindTime","moveForwardAction","fastForwardTime","rewindAction","toggleMuteAction","newMute","handleRemoteAction","action","on","off","currentFile","preload","src","audioUrl","srcLang","readOnly","showDuration"],"mappings":"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"}